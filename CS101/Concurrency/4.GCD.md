### 디스패치큐?
Dispatch Queue에는 세 종류가 있다.
각각 메인 큐, 글로벌 큐, 프라이빗 커스텀 큐
이 DispatchQueue는 `클래스`이다!

```swift
DispatchQueue.main
DispatchQueue.global()
DispatchQueue.(label: "...")

// 오퍼레이션큐
let opQ = OperationQueue()

```
1. 메인 큐 : 메인쓰레드에서 UI업데이트 내용을 처리하는 큐. 직렬 큐이다.
- 메인 1번 쓰레드 큐를 말한다.
2. 글로벌 큐 : 6가지의 Qos를 갖고 있다. 병렬 큐이다.
- 시스템이 우선순위에 따라 더 많은 쓰레드를 배치하고 베터리를 집중해서 사용하도록 한다.
- Qos는 Quality of Service를 의미한다. 이 서비스 품질을 6종류를 갖는다.
    + 그 품질이 높을수록 쓰레드가 더 많이 사용된다.
    + 디폴트 큐는 4개의 쓰레드를 쓰고 품질이 낮은 유틸리티 큐를 쓰면 2개의 쓰레드만 쓴다던가.
    + iOS 가 알아서 중요한 업무를 인지하고 쓰레드 우선순위를 매겨서 더 많은 쓰레드를 배치한다.
    + CPU 배터리를 잘 집중해서 일을 빨리 끝내도록 한다.
    + 품질은 어떤 업무가 더 빠르게 끝나는지를 구별하지는 않으며, 쓰레드 할당의 우선순위 정도로 보면 좋다.
```swift
let userInteractiveQueue = DispatchQueue.global(qos: .userInteractive)
let userInitiatedQueue = DispatchQueue.global(qos: .userInitiated)
let defaultQueue = DispatchQueue.global()  // 디폴트 글로벌큐
let utilityQueue = DispatchQueue.global(qos: .utility)
let backgroundQueue = DispatchQueue.global(qos: .background)
let unspecifiedQueue = DispatchQueue.global(qos: .unspecified)
```

---
### Qos의 수준

`.userInteractive` : 
- 유저와 직접 인터렉티브하는 UI 업데이트나 애니메이션, UI반응 등등을 포함하여 사용.
- 사용자와 직접 상호작용 하는 작업에 권장.
- 화면이 버벅거리면 곤란한 거지.
- 소요 시간은 거의 즉시 수준

`.userInitiated` :
- 유저가 즉시 필요로 하지만 비동기적으로 처리되는 작업에 사용
- 앱내 pdf 파일을 열거나 로컬 데이터베이스를 읽을 때
- 소요 시간은 몇 초 수준

`.default` :
- 일반 작업

`.utility` :
- Progress Indicator와 함께 길게 실행되는 작업 및 계산
- **IO, Networking, 지속적 데이터 피드**
- 대체로 몇초에서 몇 분이 소요된다.

`.background` :
- 유저가 직접 인지하지 않고 시간이 중요하지 않은 작업
- 데이터를 미리 가져오거나 DB 를 유지보수하고 원격 서버 동기화, 백업 등
- 몇분 이상이 소요되지만 배터리에너지 효율성을 중시하기 때문

`.unspecified` :
- legacy API를 지원한다.
- 스레드를 서비스 품질에서 제외시킨다(?)

3. 커스텀 큐 : Qos를 추론하고 설정할 수 있다. 기본적으로는 직렬 큐인데, 병렬 큐로도 설정할 수 있다.
- `label`을 붙여서 커스텀한다. 
- 직렬 큐여서 하나의 쓰레드를 생성하고, Qos도 설정할 수 있다.
- 그래서 qos, label, target 등등의 속성을 내가 일일이 정해줄 수 있다.

4. (당장 배우진 않겠지만) OperationQueue : 내부는 GCD 기반으로 구현된 클래스다.
- 기저 디스패치큐에 영향을 받는다. 병렬 큐가 기본 값이지만, 직렬 큐로 사용이 가능하다.
- 사용할 쓰레드 갯수도 설정할 수 있다.

